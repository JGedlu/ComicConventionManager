@model List<ComicConventionManager.Models.Panel>

<div class="dashboard-layout">

    <aside class="sidebar">
        <a href="#">Notices</a>
        <a href="#">Guests</a>
        <a href="#">Location</a>
        <a href="#">Manage Panels</a>
        <a href="#">Create Notice</a>
    </aside>

    <main class="panel-area">

        @foreach (var panel in Model)
        {
            <div class="panel-card">

                <div class="panel-header">
                    <h3>@panel.Title</h3>

                    <button class="add-btn" title="Add to My Panels">+</button>
                </div>

                <p>@panel.Description</p>

                <div class="panel-meta">

                    @{
                        string formattedDate;

                        if (panel.EndDate != null)
                        {
                            formattedDate =
                            $"{panel.StartDate:MMMM d} – {panel.EndDate:MMMM d, yyyy}";
                        }
                        else if (panel.StartTime != null)
                        {
                            formattedDate =
                            $"{panel.StartDate:MMMM d, yyyy} · {DateTime.Today.Add(panel.StartTime.Value):h:mm tt}";
                        }
                        else
                        {
                            formattedDate =
                            $"{panel.StartDate:MMMM d, yyyy}";
                        }
                    }

                    @formattedDate
                    · @panel.LocationName

                    @if (!string.IsNullOrEmpty(panel.GoogleMapsLink))
                    {
                        <a href="@panel.GoogleMapsLink"
                           target="_blank"
                           class="map-link">
                            View Map
                        </a>
                    }
                </div>
            </div>
        }
    </main>
</div>